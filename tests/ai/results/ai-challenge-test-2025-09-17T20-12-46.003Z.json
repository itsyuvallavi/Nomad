{
  "timestamp": "2025-09-17T20:12:46.004Z",
  "summary": {
    "total": 6,
    "passed": 3,
    "failed": 3,
    "totalDuration": 126357
  },
  "results": [
    {
      "testName": "Vague Request Test",
      "scenario": "Test if AI asks for clarification on vague requests",
      "passed": true,
      "duration": 30008,
      "errors": [],
      "warnings": [],
      "aiResponses": [
        {
          "type": "question",
          "message": "What destination are you thinking of for your trip?",
          "awaitingInput": "destination",
          "conversationContext": "{\"history\":[\"I want to travel somewhere nice\"],\"data\":{\"destination\":null,\"startDate\":null,\"duration\":null,\"travelers\":null,\"preferences\":null,\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Vague Request Test-1758139829627\"}"
        },
        {
          "type": "question",
          "message": "When are you planning to travel to Barcelona, and how long do you want to stay?",
          "awaitingInput": "preferences",
          "conversationContext": "{\"history\":[\"I want to travel somewhere nice\",\"Barcelona\"],\"data\":{\"destination\":\"Barcelona\",\"startDate\":null,\"duration\":null,\"travelers\":null,\"preferences\":null,\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Vague Request Test-1758139834333\"}"
        },
        {
          "type": "itinerary",
          "message": "Here's your personalized 3-day itinerary for Barcelona!\n\nI've crafted this based on your preferences. Feel free to ask me to modify anything - I can change activities, adjust the schedule, or completely revise any day.",
          "itinerary": {
            "destination": "Barcelona",
            "title": "3 Days in Barcelona",
            "itinerary": [
              {
                "day": 1,
                "date": "TBD",
                "title": "Day 1: Cultural Exploration",
                "activities": [
                  {
                    "time": "9:00",
                    "description": "Visit Sagrada Familia",
                    "category": "Attraction",
                    "venue_name": "Basilica de la Sagrada Familia",
                    "tips": "Buy tickets online in advance"
                  },
                  {
                    "time": "12:00",
                    "description": "Explore Park Guell",
                    "category": "Attraction",
                    "venue_name": "Park Guell",
                    "tips": "Wear comfortable shoes"
                  },
                  {
                    "time": "14:30",
                    "description": "Lunch at La Boqueria Market",
                    "category": "Food",
                    "venue_name": "Mercat de Sant Josep de la Boqueria",
                    "tips": "Try local tapas"
                  },
                  {
                    "time": "16:30",
                    "description": "Discover the Gothic Quarter",
                    "category": "Culture",
                    "venue_name": "Barri Gotic",
                    "tips": "Get lost in its narrow streets"
                  },
                  {
                    "time": "18:30",
                    "description": "Visit Picasso Museum",
                    "category": "Culture",
                    "venue_name": "Museu Picasso",
                    "tips": "Free entry on Thursday evenings"
                  },
                  {
                    "time": "20:00",
                    "description": "Dinner at El Xampanyet",
                    "category": "Food",
                    "venue_name": "El Xampanyet",
                    "tips": "Try their homemade cava"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 25,
                    "max": 25,
                    "day": 25
                  },
                  "weather": {
                    "main": "Clouds",
                    "description": "few clouds",
                    "icon": "02n"
                  },
                  "humidity": 73,
                  "wind_speed": 3,
                  "pop": 0
                }
              },
              {
                "day": 2,
                "date": "TBD",
                "title": "Day 2: Beach Day",
                "activities": [
                  {
                    "time": "10:00",
                    "description": "Relax at Barceloneta Beach",
                    "category": "Leisure",
                    "venue_name": "Barceloneta Beach",
                    "tips": "Don't forget sunscreen"
                  },
                  {
                    "time": "13:00",
                    "description": "Lunch at Can Paixano (La Xampanyeria)",
                    "category": "Food",
                    "venue_name": "Can Paixano",
                    "tips": "Enjoy their affordable cava"
                  },
                  {
                    "time": "15:00",
                    "description": "Visit Barcelona Aquarium",
                    "category": "Attraction",
                    "venue_name": "L'Aquarium de Barcelona",
                    "tips": "Great for families"
                  },
                  {
                    "time": "17:00",
                    "description": "Walk along Port Vell",
                    "category": "Leisure",
                    "venue_name": "Port Vell",
                    "tips": "Enjoy the sea views"
                  },
                  {
                    "time": "19:00",
                    "description": "Dinner at Salamanca",
                    "category": "Food",
                    "venue_name": "Salamanca",
                    "tips": "Try their paella"
                  },
                  {
                    "time": "21:00",
                    "description": "Watch Magic Fountain Show",
                    "category": "Attraction",
                    "venue_name": "Magic Fountain of Montjuic",
                    "tips": "Check show times beforehand"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 24,
                    "max": 28,
                    "day": 26
                  },
                  "weather": {
                    "main": "Clouds",
                    "description": "few clouds",
                    "icon": "02n"
                  },
                  "humidity": 73,
                  "wind_speed": 2,
                  "pop": 0
                }
              },
              {
                "day": 3,
                "date": "TBD",
                "title": "Day 3: Gaudi's Legacy",
                "activities": [
                  {
                    "time": "9:30",
                    "description": "Casa Batllo Tour",
                    "category": "Attraction",
                    "venue_name": "Casa Batllo",
                    "tips": "Audio guide is recommended"
                  },
                  {
                    "time": "12:00",
                    "description": "Visit Casa Mila (La Pedrera)",
                    "category": "Attraction",
                    "venue_name": "Casa Mila",
                    "tips": "Explore the rooftop"
                  },
                  {
                    "time": "14:00",
                    "description": "Lunch at Cerveceria Catalana",
                    "category": "Food",
                    "venue_name": "Cerveceria Catalana",
                    "tips": "Famous for their tapas"
                  },
                  {
                    "time": "16:00",
                    "description": "Explore Passeig de Gracia",
                    "category": "Shopping",
                    "venue_name": "Passeig de Gracia",
                    "tips": "Luxury shopping street"
                  },
                  {
                    "time": "18:00",
                    "description": "Sip coffee at Els Quatre Gats",
                    "category": "Culture",
                    "venue_name": "Els Quatre Gats",
                    "tips": "Historic modernist cafe"
                  },
                  {
                    "time": "20:00",
                    "description": "Final dinner at Tickets Bar",
                    "category": "Food",
                    "venue_name": "Tickets Bar",
                    "tips": "Innovative tapas experience"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 23,
                    "max": 26,
                    "day": 24
                  },
                  "weather": {
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01d"
                  },
                  "humidity": 73,
                  "wind_speed": 2,
                  "pop": 0
                }
              }
            ],
            "quickTips": [
              "Book accommodations in advance",
              "Check visa requirements",
              "Get travel insurance",
              "Download offline maps",
              "Keep digital copies of documents"
            ],
            "aiMessage": "Wonderful! Here's your 3-day Barcelona adventure!",
            "_costEstimate": {
              "total": 3450,
              "flights": 1200,
              "accommodation": 1950,
              "dailyExpenses": 100,
              "currency": "USD",
              "breakdown": [
                {
                  "type": "flight",
                  "description": "Round-trip flights",
                  "amount": 1200
                },
                {
                  "type": "hotel",
                  "description": "3 nights accommodation",
                  "amount": 1950
                },
                {
                  "type": "daily",
                  "description": "Food and activities",
                  "amount": 300
                }
              ]
            },
            "_enrichedWithOSM": true,
            "_routesOptimized": true
          },
          "conversationContext": "{\"history\":[\"I want to travel somewhere nice\",\"Barcelona\",\"Please use reasonable defaults\"],\"data\":{\"destination\":\"Barcelona\",\"startDate\":null,\"duration\":3,\"travelers\":null,\"preferences\":null,\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Vague Request Test-1758139836773\"}"
        }
      ]
    },
    {
      "testName": "Complex Multi-City Trip",
      "scenario": "Test generation of complex multi-destination itinerary",
      "passed": false,
      "duration": 5600,
      "errors": [
        "Failed to generate itinerary for complex request"
      ],
      "warnings": [],
      "aiResponses": [
        {
          "type": "error",
          "message": "I had trouble creating your itinerary. Let's try again - could you tell me more about your trip to London, Paris, Amsterdam, Barcelona?",
          "conversationContext": "{\"history\":[\"I need a 2-week trip starting in London on April 1st, then Paris for 4 days, Amsterdam for 3 days, and ending in Barcelona. I work remotely so need coworking spaces. Budget is $5000. I'm vegetarian and love museums.\"],\"data\":{\"destination\":\"London, Paris, Amsterdam, Barcelona\",\"startDate\":\"2024-04-01\",\"duration\":14,\"travelers\":{\"count\":1,\"type\":\"solo\"},\"preferences\":{\"activities\":[\"coworking spaces\",\"museums\"],\"budget\":\"mid\",\"tripType\":\"workation\"},\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Complex Multi-City Trip-1758139861636\"}"
        }
      ]
    },
    {
      "testName": "Basic Tokyo Trip Test",
      "scenario": "Test basic Tokyo trip generation (constraint detection not yet implemented)",
      "passed": true,
      "duration": 31440,
      "errors": [],
      "warnings": [],
      "aiResponses": [
        {
          "type": "itinerary",
          "message": "Here's your personalized 4-day itinerary for Tokyo!\n\nI've crafted this based on your preferences. Feel free to ask me to modify anything - I can change activities, adjust the schedule, or completely revise any day.",
          "itinerary": {
            "destination": "Tokyo",
            "title": "4 Days in Tokyo",
            "itinerary": [
              {
                "day": 1,
                "date": "TBD",
                "title": "Day 1: Exploring Tokyo",
                "activities": [
                  {
                    "time": "9:00 AM",
                    "description": "Visit Senso-ji Temple",
                    "category": "Attraction",
                    "venue_name": "Sensō-ji",
                    "tips": "Arrive early to avoid crowds",
                    "address": "1, Asakusa 2-chome, Taito, Japan",
                    "coordinates": {
                      "lat": 35.7134032,
                      "lng": 139.7955265
                    },
                    "phone": "+81-3-3842-0181",
                    "opening_hours": "Mo-Su 06:00-17:00",
                    "wheelchair": "no",
                    "_osm_place_id": 245194212
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Explore Akihabara District",
                    "category": "Culture",
                    "venue_name": "Akihabara",
                    "tips": "Great for electronics and anime fans",
                    "address": "Akihabara, Taito, Japan",
                    "coordinates": {
                      "lat": 35.7018928,
                      "lng": 139.7743684
                    },
                    "_osm_place_id": 399110648
                  },
                  {
                    "time": "6:00 PM",
                    "description": "Dinner at Robot Restaurant",
                    "category": "Food",
                    "venue_name": "マクドナルド",
                    "tips": "Book tickets in advance",
                    "address": "Address not available",
                    "coordinates": {
                      "lat": 35.6675559,
                      "lng": 139.7573538
                    },
                    "_approximateLocation": true,
                    "_zone": "Shibuya & Harajuku"
                  },
                  {
                    "time": "12:00 PM",
                    "description": "Lunch at Tsukiji Fish Market",
                    "category": "Food",
                    "venue_name": "Tsukiji Uogashi, new fish market",
                    "tips": "Try fresh sushi at one of the stalls",
                    "address": "Namiyoke-dori Street, Tsukiji 6, Chūō, Japan",
                    "coordinates": {
                      "lat": 35.6638835,
                      "lng": 139.7707727
                    },
                    "website": "https://tsukiji.or.jp/forbiz/uogashi/",
                    "opening_hours": "Mo-Su 05:00-15:00",
                    "dietary_options": {
                      "vegetarian": true,
                      "vegan": true
                    },
                    "_osm_place_id": 244724218
                  },
                  {
                    "time": "8:00 PM",
                    "description": "Experience Shinjuku nightlife",
                    "category": "Leisure",
                    "venue_name": "Shinjuku",
                    "tips": "Visit Golden Gai for unique bars",
                    "address": "Shinjuku, Japan",
                    "coordinates": {
                      "lat": 35.6937632,
                      "lng": 139.7036319
                    },
                    "_osm_place_id": 400101147,
                    "_zone": "Shinjuku"
                  }
                ],
                "_routeInfo": {
                  "totalDistance": 14.609297040607862,
                  "optimized": true,
                  "originalOrder": [
                    "Sensō-ji",
                    "Tsukiji Uogashi, new fish market",
                    "Akihabara",
                    "マクドナルド",
                    "Shinjuku"
                  ],
                  "optimizedOrder": [
                    "Sensō-ji",
                    "Akihabara",
                    "マクドナルド",
                    "Tsukiji Uogashi, new fish market",
                    "Shinjuku"
                  ]
                },
                "_destination": "Tokyo",
                "_coordinates": {
                  "lat": 35.6768601,
                  "lng": 139.7638947
                },
                "_zones": [
                  "Shibuya & Harajuku",
                  "Shinjuku"
                ],
                "weather": {
                  "temp": {
                    "min": 28,
                    "max": 28,
                    "day": 28
                  },
                  "weather": {
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01d"
                  },
                  "humidity": 81,
                  "wind_speed": 2,
                  "pop": 0
                }
              },
              {
                "day": 2,
                "date": "TBD",
                "title": "Day 2: Traditional Tokyo",
                "activities": [
                  {
                    "time": "10:00 AM",
                    "description": "Tea ceremony at Happo-en",
                    "category": "Culture",
                    "venue_name": "Happo-en",
                    "tips": "Experience traditional Japanese tea"
                  },
                  {
                    "time": "1:00 PM",
                    "description": "Lunch at a Yakitori restaurant",
                    "category": "Food",
                    "venue_name": "Torikizoku Shibuya",
                    "tips": "Try various grilled skewers"
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Explore Meiji Shrine",
                    "category": "Attraction",
                    "venue_name": "Meiji Shrine",
                    "tips": "Peaceful oasis in the city"
                  },
                  {
                    "time": "6:00 PM",
                    "description": "Dinner at Kawaii Monster Cafe",
                    "category": "Food",
                    "venue_name": "Kawaii Monster Cafe",
                    "tips": "Colorful and quirky dining experience"
                  },
                  {
                    "time": "8:00 PM",
                    "description": "Stroll through Harajuku Takeshita Street",
                    "category": "Shopping",
                    "venue_name": "Takeshita Street",
                    "tips": "Great for trendy fashion finds"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 22,
                    "max": 33,
                    "day": 27
                  },
                  "weather": {
                    "main": "Rain",
                    "description": "moderate rain",
                    "icon": "10n"
                  },
                  "humidity": 74,
                  "wind_speed": 6,
                  "pop": 0.625
                }
              },
              {
                "day": 3,
                "date": "TBD",
                "title": "Day 3: Tokyo Modern Vibes",
                "activities": [
                  {
                    "time": "10:00 AM",
                    "description": "Visit teamLab Borderless",
                    "category": "Attraction",
                    "venue_name": "teamLab Borderless",
                    "tips": "Immersive digital art experience"
                  },
                  {
                    "time": "1:00 PM",
                    "description": "Lunch at Gonpachi Nishi-Azabu",
                    "category": "Food",
                    "venue_name": "Gonpachi Nishi-Azabu",
                    "tips": "Inspiration for Kill Bill's restaurant scene"
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Explore Roppongi Hills",
                    "category": "Culture",
                    "venue_name": "Roppongi Hills",
                    "tips": "Modern art, shopping, and dining complex"
                  },
                  {
                    "time": "6:00 PM",
                    "description": "Dinner at Andaz Tavern",
                    "category": "Food",
                    "venue_name": "Andaz Tavern",
                    "tips": "Stunning views and delicious cuisine"
                  },
                  {
                    "time": "8:00 PM",
                    "description": "Relax at Odaiba Seaside Park",
                    "category": "Leisure",
                    "venue_name": "Odaiba Seaside Park",
                    "tips": "Enjoy the sunset by the waterfront"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 21,
                    "max": 22,
                    "day": 22
                  },
                  "weather": {
                    "main": "Rain",
                    "description": "light rain",
                    "icon": "10d"
                  },
                  "humidity": 76,
                  "wind_speed": 4,
                  "pop": 0.95125
                }
              },
              {
                "day": 4,
                "date": "TBD",
                "title": "Day 4: Cultural Immersion",
                "activities": [
                  {
                    "time": "10:00 AM",
                    "description": "Visit Edo-Tokyo Museum",
                    "category": "Culture",
                    "venue_name": "Edo-Tokyo Museum",
                    "tips": "Learn about Tokyo's history"
                  },
                  {
                    "time": "1:00 PM",
                    "description": "Lunch at Uobei Shibuya Dogenzaka",
                    "category": "Food",
                    "venue_name": "Uobei Shibuya Dogenzaka",
                    "tips": "Experience conveyor belt sushi"
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Explore Asakusa Culture and Street Food",
                    "category": "Culture",
                    "venue_name": "Asakusa",
                    "tips": "Try traditional snacks like melon pan"
                  },
                  {
                    "time": "6:00 PM",
                    "description": "Dinner at Gonpachi Roppongi",
                    "category": "Food",
                    "venue_name": "Gonpachi Roppongi",
                    "tips": "Known as the 'Kill Bill' restaurant"
                  },
                  {
                    "time": "8:00 PM",
                    "description": "Night view from Tokyo Skytree",
                    "category": "Attraction",
                    "venue_name": "Tokyo Skytree",
                    "tips": "Breathtaking city panorama at night"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 20,
                    "max": 23,
                    "day": 21
                  },
                  "weather": {
                    "main": "Rain",
                    "description": "moderate rain",
                    "icon": "10d"
                  },
                  "humidity": 80,
                  "wind_speed": 3,
                  "pop": 0.475
                }
              }
            ],
            "quickTips": [
              "Book accommodations in advance",
              "Check visa requirements",
              "Get travel insurance",
              "Download offline maps",
              "Keep digital copies of documents"
            ],
            "aiMessage": "Wonderful! Here's your 4-day Tokyo adventure!",
            "_costEstimate": {
              "total": 5120,
              "flights": 1800,
              "accommodation": 2920,
              "dailyExpenses": 100,
              "currency": "USD",
              "breakdown": [
                {
                  "type": "flight",
                  "description": "Round-trip flights",
                  "amount": 1800
                },
                {
                  "type": "hotel",
                  "description": "4 nights accommodation",
                  "amount": 2920
                },
                {
                  "type": "daily",
                  "description": "Food and activities",
                  "amount": 400
                }
              ]
            },
            "_enrichedWithOSM": true,
            "_routesOptimized": true
          },
          "conversationContext": "{\"history\":[\"Plan a 4-day Tokyo trip for next month. Budget $3000.\"],\"data\":{\"destination\":\"Tokyo\",\"startDate\":null,\"duration\":4,\"travelers\":null,\"preferences\":{\"activities\":[],\"budget\":\"mid\",\"tripType\":\"leisure\"},\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Basic Tokyo Trip Test-1758139869239\"}"
        }
      ]
    },
    {
      "testName": "Edge Case - Impossible Request",
      "scenario": "Test handling of impossible or contradictory requests",
      "passed": true,
      "duration": 24840,
      "errors": [],
      "warnings": [],
      "aiResponses": [
        {
          "type": "question",
          "message": "How many days are you planning to stay in Antarctica?",
          "awaitingInput": "preferences",
          "conversationContext": "{\"history\":[\"I want to visit Antarctica for a beach vacation next week with a $500 budget\"],\"data\":{\"destination\":\"Antarctica\",\"startDate\":\"next week\",\"duration\":null,\"travelers\":{\"count\":1,\"type\":\"solo\"},\"preferences\":{\"activities\":[\"beach vacation\"],\"budget\":\"budget\",\"tripType\":\"leisure\"},\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Edge Case - Impossible Request-1758139902680\"}"
        },
        {
          "type": "itinerary",
          "message": "Here's your personalized 3-day itinerary for Antarctica!\n\nI've crafted this based on your preferences. Feel free to ask me to modify anything - I can change activities, adjust the schedule, or completely revise any day.",
          "itinerary": {
            "destination": "Antarctica",
            "title": "3 Days in Antarctica",
            "itinerary": [
              {
                "day": 1,
                "date": "2023-10-30",
                "title": "Day 1: Adventure Begins",
                "activities": [
                  {
                    "time": "9:00 AM",
                    "description": "Visit Port Lockroy",
                    "category": "Attraction",
                    "venue_name": "Port Lockroy Museum",
                    "tips": "Learn about Antarctic history"
                  },
                  {
                    "time": "12:00 PM",
                    "description": "Try Antarctic cuisine",
                    "category": "Food",
                    "venue_name": "Penguin Post Office Cafe",
                    "tips": "Sample local dishes"
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Explore Jougla Point",
                    "category": "Attraction",
                    "venue_name": "Jougla Point",
                    "tips": "See Gentoo penguins"
                  },
                  {
                    "time": "6:00 PM",
                    "description": "Attend Antarctic lecture",
                    "category": "Culture",
                    "venue_name": "Antarctic Research Center",
                    "tips": "Learn about scientific research"
                  },
                  {
                    "time": "8:00 PM",
                    "description": "Stargazing",
                    "category": "Leisure",
                    "venue_name": "Antarctic Observatory",
                    "tips": "Experience southern sky"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 33,
                    "max": 33,
                    "day": 33
                  },
                  "weather": {
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                  },
                  "humidity": 70,
                  "wind_speed": 0,
                  "pop": 0
                }
              },
              {
                "day": 2,
                "date": "2023-10-31",
                "title": "Day 2: Nature and Wildlife",
                "activities": [
                  {
                    "time": "10:00 AM",
                    "description": "Visit Cuverville Island",
                    "category": "Attraction",
                    "venue_name": "Cuverville Island",
                    "tips": "See chinstrap penguins"
                  },
                  {
                    "time": "1:00 PM",
                    "description": "Lunch at Vernadsky Research Base",
                    "category": "Food",
                    "venue_name": "Vernadsky Research Base Cafeteria",
                    "tips": "Interact with scientists"
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Hike at Neko Harbor",
                    "category": "Leisure",
                    "venue_name": "Neko Harbor",
                    "tips": "Enjoy panoramic views"
                  },
                  {
                    "time": "5:00 PM",
                    "description": "Visit Antarctic Heritage Trust",
                    "category": "Culture",
                    "venue_name": "Antarctic Heritage Trust Museum",
                    "tips": "Preserving Antarctic history"
                  },
                  {
                    "time": "7:00 PM",
                    "description": "Dinner at Palmer Station",
                    "category": "Food",
                    "venue_name": "Palmer Station Dining Hall",
                    "tips": "Freshly prepared meals"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 31,
                    "max": 37,
                    "day": 33
                  },
                  "weather": {
                    "main": "Clouds",
                    "description": "few clouds",
                    "icon": "02n"
                  },
                  "humidity": 64,
                  "wind_speed": 3,
                  "pop": 0
                }
              },
              {
                "day": 3,
                "date": "2023-11-01",
                "title": "Day 3: Ice and Beauty",
                "activities": [
                  {
                    "time": "9:00 AM",
                    "description": "Cruise through Lemaire Channel",
                    "category": "Attraction",
                    "venue_name": "Lemaire Channel",
                    "tips": "Scenic iceberg views"
                  },
                  {
                    "time": "12:00 PM",
                    "description": "Penguin colony visit at Petermann Island",
                    "category": "Attraction",
                    "venue_name": "Petermann Island",
                    "tips": "Observe Adelie penguins"
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Photography session at Paradise Bay",
                    "category": "Leisure",
                    "venue_name": "Paradise Bay",
                    "tips": "Capture stunning landscapes"
                  },
                  {
                    "time": "5:00 PM",
                    "description": "Learn about Antarctic glaciers",
                    "category": "Culture",
                    "venue_name": "Antarctic Glaciology Center",
                    "tips": "Educational exhibits"
                  },
                  {
                    "time": "7:00 PM",
                    "description": "Farewell dinner onboard ship",
                    "category": "Food",
                    "venue_name": "Ship's Dining Room",
                    "tips": "Enjoy a special meal"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 30,
                    "max": 34,
                    "day": 32
                  },
                  "weather": {
                    "main": "Clouds",
                    "description": "broken clouds",
                    "icon": "04n"
                  },
                  "humidity": 61,
                  "wind_speed": 2,
                  "pop": 0
                }
              }
            ],
            "quickTips": [
              "Book accommodations in advance",
              "Check visa requirements",
              "Get travel insurance",
              "Download offline maps",
              "Keep digital copies of documents"
            ],
            "aiMessage": "Wonderful! Here's your 3-day Antarctica adventure!",
            "_costEstimate": {
              "total": 17500,
              "flights": 8000,
              "accommodation": 9200,
              "dailyExpenses": 100,
              "currency": "USD",
              "breakdown": [
                {
                  "type": "flight",
                  "description": "Round-trip flights",
                  "amount": 8000
                },
                {
                  "type": "hotel",
                  "description": "3 nights accommodation",
                  "amount": 9200
                },
                {
                  "type": "daily",
                  "description": "Food and activities",
                  "amount": 300
                }
              ]
            },
            "_enrichedWithOSM": true,
            "_routesOptimized": true
          },
          "conversationContext": "{\"history\":[\"I want to visit Antarctica for a beach vacation next week with a $500 budget\",\"Please use reasonable defaults\"],\"data\":{\"destination\":\"Antarctica\",\"startDate\":\"next week\",\"duration\":3,\"travelers\":{\"count\":1,\"type\":\"solo\"},\"preferences\":{\"activities\":[\"beach vacation\"],\"budget\":\"budget\",\"tripType\":\"leisure\"},\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Edge Case - Impossible Request-1758139905493\"}"
        }
      ]
    },
    {
      "testName": "Modification Flow Test",
      "scenario": "Test the ability to modify an existing itinerary",
      "passed": false,
      "duration": 25112,
      "errors": [
        "Expected questions but none were asked"
      ],
      "warnings": [
        "Only 1 conversation turns, expected at least 2"
      ],
      "aiResponses": [
        {
          "type": "itinerary",
          "message": "Here's your personalized 3-day itinerary for Paris!\n\nI've crafted this based on your preferences. Feel free to ask me to modify anything - I can change activities, adjust the schedule, or completely revise any day.",
          "itinerary": {
            "destination": "Paris",
            "title": "3 Days in Paris",
            "itinerary": [
              {
                "day": 1,
                "date": "TBD",
                "title": "Day 1: Exploring Paris",
                "activities": [
                  {
                    "time": "9:00 AM",
                    "description": "Visit Louvre Museum",
                    "category": "Attraction",
                    "venue_name": "Louvre Museum",
                    "tips": "Buy tickets online to skip the line",
                    "address": "Pont du Carrousel, 1st Arrondissement, Paris, France",
                    "coordinates": {
                      "lat": 48.8611473,
                      "lng": 2.3380277
                    },
                    "opening_hours": "Mo,Th,Sa-Su 09:00-18:00; Tu off; We,Fr 09:00-21:00; Jan 01,May 01,Dec 25 off",
                    "wheelchair": "yes",
                    "_osm_place_id": 90426584,
                    "_zone": "Louvre & Opéra"
                  },
                  {
                    "time": "12:00 PM",
                    "description": "Lunch at Le Grand Véfour",
                    "category": "Food",
                    "venue_name": "Le Grand Véfour",
                    "tips": "Try their famous soufflés",
                    "address": "Péristyle de Joinville, 1st Arrondissement, Paris, France",
                    "coordinates": {
                      "lat": 48.8661551,
                      "lng": 2.3379157
                    },
                    "website": "https://www.grand-vefour.com/",
                    "opening_hours": "Tu-Sa 12:00-13:45,19:00-21:30",
                    "dietary_options": {
                      "vegetarian": true,
                      "vegan": true
                    },
                    "_osm_place_id": 90428470,
                    "_zone": "Louvre & Opéra"
                  },
                  {
                    "time": "6:00 PM",
                    "description": "Stroll along the Seine River",
                    "category": "Leisure",
                    "venue_name": "La Seine - Bras de la Monnaie",
                    "tips": "Enjoy the sunset views",
                    "address": "Paris, Paris, France",
                    "coordinates": {
                      "lat": 48.8533056,
                      "lng": 2.3469634
                    },
                    "_osm_place_id": 88424067
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Explore Notre-Dame Cathedral",
                    "category": "Attraction",
                    "venue_name": "Cathedral of Notre Dame",
                    "tips": "Climb to the top for a great view",
                    "address": "6, Parvis Notre-Dame - Place Jean-Paul II, 4th Arrondissement, Paris, France",
                    "coordinates": {
                      "lat": 48.8529312,
                      "lng": 2.3500626
                    },
                    "website": "https://www.notredamedeparis.fr/",
                    "phone": "+33 1 42 34 56 10",
                    "opening_hours": "Mo,Tu,We,Fr 07:50-19:00; Th 07:50-22:00; Sa,Su 08:15-19:30",
                    "wheelchair": "limited",
                    "_osm_place_id": 88793743
                  },
                  {
                    "time": "8:00 PM",
                    "description": "Dinner at Le Marais district",
                    "category": "Food",
                    "venue_name": "Le Marais",
                    "tips": "Try traditional French cuisine",
                    "address": "Le Marais, Paris, France",
                    "coordinates": {
                      "lat": 48.8603823,
                      "lng": 2.360742
                    },
                    "dietary_options": {
                      "vegetarian": true,
                      "vegan": true
                    },
                    "_osm_place_id": 89061055
                  }
                ],
                "_routeInfo": {
                  "totalDistance": 3.5009221334274327,
                  "optimized": true,
                  "originalOrder": [
                    "Louvre Museum",
                    "Le Grand Véfour",
                    "Cathedral of Notre Dame",
                    "La Seine - Bras de la Monnaie",
                    "Le Marais"
                  ],
                  "optimizedOrder": [
                    "Louvre Museum",
                    "Le Grand Véfour",
                    "La Seine - Bras de la Monnaie",
                    "Cathedral of Notre Dame",
                    "Le Marais"
                  ]
                },
                "_destination": "Paris",
                "_coordinates": {
                  "lat": 48.8588897,
                  "lng": 2.320041
                },
                "_zones": [
                  "Eiffel Tower & Trocadéro",
                  "Latin Quarter & Saint-Germain"
                ],
                "weather": {
                  "temp": {
                    "min": 18,
                    "max": 18,
                    "day": 18
                  },
                  "weather": {
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                  },
                  "humidity": 70,
                  "wind_speed": 2,
                  "pop": 0
                }
              },
              {
                "day": 2,
                "date": "TBD",
                "title": "Day 2: Cultural Immersion",
                "activities": [
                  {
                    "time": "10:00 AM",
                    "description": "Visit Musée d'Orsay",
                    "category": "Attraction",
                    "venue_name": "Musée d'Orsay",
                    "tips": "Don't miss the Impressionist collection"
                  },
                  {
                    "time": "1:00 PM",
                    "description": "Lunch at Le Cinq",
                    "category": "Food",
                    "venue_name": "Le Cinq",
                    "tips": "Indulge in a luxurious dining experience"
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Walk around Montmartre",
                    "category": "Culture",
                    "venue_name": "Montmartre",
                    "tips": "Visit Sacré-Cœur Basilica"
                  },
                  {
                    "time": "6:00 PM",
                    "description": "Attend a Cabaret Show at Moulin Rouge",
                    "category": "Culture",
                    "venue_name": "Moulin Rouge",
                    "tips": "Book tickets in advance"
                  },
                  {
                    "time": "9:00 PM",
                    "description": "Dinner at Le Jules Verne",
                    "category": "Food",
                    "venue_name": "Le Jules Verne",
                    "tips": "Enjoy dinner with a view of the Eiffel Tower"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 13,
                    "max": 28,
                    "day": 21
                  },
                  "weather": {
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                  },
                  "humidity": 45,
                  "wind_speed": 2,
                  "pop": 0
                }
              },
              {
                "day": 3,
                "date": "TBD",
                "title": "Day 3: Relaxation and Shopping",
                "activities": [
                  {
                    "time": "10:00 AM",
                    "description": "Visit Luxembourg Gardens",
                    "category": "Leisure",
                    "venue_name": "Luxembourg Gardens",
                    "tips": "Relax by the fountains"
                  },
                  {
                    "time": "1:00 PM",
                    "description": "Lunch at Café de Flore",
                    "category": "Food",
                    "venue_name": "Café de Flore",
                    "tips": "Experience a historic Parisian café"
                  },
                  {
                    "time": "3:00 PM",
                    "description": "Shopping on Champs-Élysées",
                    "category": "Shopping",
                    "venue_name": "Champs-Élysées",
                    "tips": "Explore luxury boutiques"
                  },
                  {
                    "time": "6:00 PM",
                    "description": "Visit Sainte-Chapelle",
                    "category": "Culture",
                    "venue_name": "Sainte-Chapelle",
                    "tips": "Admire the stunning stained glass windows"
                  },
                  {
                    "time": "8:00 PM",
                    "description": "Dinner at Le Relais de l'Entrecôte",
                    "category": "Food",
                    "venue_name": "Le Relais de l'Entrecôte",
                    "tips": "Try their famous steak frites"
                  }
                ],
                "weather": {
                  "temp": {
                    "min": 18,
                    "max": 32,
                    "day": 25
                  },
                  "weather": {
                    "main": "Clouds",
                    "description": "broken clouds",
                    "icon": "04n"
                  },
                  "humidity": 29,
                  "wind_speed": 2,
                  "pop": 0
                }
              }
            ],
            "quickTips": [
              "Book accommodations in advance",
              "Check visa requirements",
              "Get travel insurance",
              "Download offline maps",
              "Keep digital copies of documents"
            ],
            "aiMessage": "I'd be happy to help you plan an amazing trip! Where would you like to go and for how long?",
            "_costEstimate": {
              "total": 3850,
              "flights": 1250,
              "accommodation": 2300,
              "dailyExpenses": 100,
              "currency": "USD",
              "breakdown": [
                {
                  "type": "flight",
                  "description": "Round-trip flights",
                  "amount": 1250
                },
                {
                  "type": "hotel",
                  "description": "3 nights accommodation",
                  "amount": 2300
                },
                {
                  "type": "daily",
                  "description": "Food and activities",
                  "amount": 300
                }
              ]
            },
            "_enrichedWithOSM": true,
            "_routesOptimized": true
          },
          "conversationContext": "{\"history\":[\"Create a simple 3-day Paris trip for next month\"],\"data\":{\"destination\":\"Paris\",\"startDate\":null,\"duration\":3,\"travelers\":null,\"preferences\":null,\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Modification Flow Test-1758139929522\"}"
        }
      ]
    },
    {
      "testName": "Stress Test - Maximum Complexity",
      "scenario": "Test with maximum complexity: 30-day trip, 10 cities, multiple constraints",
      "passed": false,
      "duration": 9357,
      "errors": [
        "Failed to handle maximum complexity request"
      ],
      "warnings": [],
      "aiResponses": [
        {
          "type": "question",
          "message": "Is there anything specific you'd like to add or change about your itinerary?",
          "awaitingInput": "preferences",
          "conversationContext": "{\"history\":[\"Plan a 30-day European tour starting June 1st: London (3 days), Paris (3 days), Rome (4 days), Venice (2 days), Vienna (3 days), Prague (3 days), Berlin (3 days), Amsterdam (3 days), Brussels (2 days), Barcelona (4 days). I need gluten-free food, prefer boutique hotels under $150/night, want to avoid tourist traps, love hidden gems, need laundry every week, work remotely Mondays and Wednesdays, and want to take overnight trains when possible. Budget $8000.\"],\"data\":{\"destination\":\"Europe\",\"startDate\":\"2024-06-01\",\"duration\":30,\"travelers\":{\"count\":1,\"type\":\"solo\"},\"preferences\":{\"activities\":[\"gluten-free food\",\"avoid tourist traps\",\"hidden gems\",\"laundry every week\",\"overnight trains\"],\"budget\":\"mid\",\"tripType\":\"workation\"},\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Stress Test - Maximum Complexity-1758139956635\"}"
        },
        {
          "type": "error",
          "message": "I had trouble creating your itinerary. Let's try again - could you tell me more about your trip to Europe?",
          "conversationContext": "{\"history\":[\"Plan a 30-day European tour starting June 1st: London (3 days), Paris (3 days), Rome (4 days), Venice (2 days), Vienna (3 days), Prague (3 days), Berlin (3 days), Amsterdam (3 days), Brussels (2 days), Barcelona (4 days). I need gluten-free food, prefer boutique hotels under $150/night, want to avoid tourist traps, love hidden gems, need laundry every week, work remotely Mondays and Wednesdays, and want to take overnight trains when possible. Budget $8000.\",\"Please use reasonable defaults\"],\"data\":{\"destination\":\"Europe\",\"startDate\":\"2024-06-01\",\"duration\":30,\"travelers\":{\"count\":1,\"type\":\"solo\"},\"preferences\":{\"activities\":[\"gluten-free food\",\"avoid tourist traps\",\"hidden gems\",\"laundry every week\",\"overnight trains\"],\"budget\":\"mid\",\"tripType\":\"workation\"},\"userIntent\":\"plan_trip\",\"modificationRequest\":null},\"sessionId\":\"test-Stress Test - Maximum Complexity-1758139960150\"}"
        }
      ]
    }
  ]
}